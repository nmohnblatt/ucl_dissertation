\chapter{Introduction}
\label{chap:intro}


\paragraph{} Privacy-oriented services such as end-to-end encrypted messaging are increasingly popular \cite{e2epopular}. While they provide strong cryptographic guarantees for the confidentiality of message contents, many still leak or gather user-related data. This is particularly the case during a setup stage known as \textit{contact discovery}. As a result, some of these applications gain access to their users' address books and therefore their mobile social graph \cite{Telegram,WhatsApp}. In this project, we are interested in performing \textit{contact discovery} in a privacy-preserving manner while remaining practical for mobile applications with billions of users.

\section{What is contact discovery?}

\paragraph{} \textit{Contact discovery} (alternatively \textit{contact matching}) simply refers to the process by which users of a service are able to find people they know on the said service. The applied method is largely determined by the amount of information users choose to make public. In the case of networks such as Facebook or LinkedIn, users are encouraged to register with --- and publish --- their legal names and can therefore be found through a simple search. In the cases we study, users are registered using pre-existing human-readable identifiers such as their phone numbers or email addresses. This information is kept private by the service such that only users with prior knowledge of each other's identifier can communicate.

\paragraph{} As a user signs up to such a service, she will already hold an \textit{address book} -- a register that links people (often referred to as \textit{contacts}) to their identifier. However, phone numbers and email addresses are identifiers generated by other services and there is no guarantee that all her \textit{contacts} are using the new service. Thus in this context, \textit{contact discovery} is more precisely defined as the process by which a user can discover whether or not her \textit{contacts} are using a specific service. Notice that such a process is not only a necessary initialisation step; it must also be regularly refreshed to ensure users keep an up-to-date view of the contacts they can address.


\section{The privacy challenge}

\paragraph{} The simplest way to perform contact discovery is arguably to send one's address book to the service operator, allowing them to compute the intersection between the address book and the list of registered users. This is in fact how the popular messaging services WhatsApp and Telegram perform their contact matching \cite{Telegram,WhatsApp}. Although efficient, this approach reveals large amounts of private information about  users and their contacts, including those that are not register for the service. The service operator is able to construct a social graph of its users and their first connections, allowing it to check for individual connections at will or under government pressure. Such information may discourage whistleblowers from ever speaking up, in fear that their identity may be revealed if they are linked to journalists.


\paragraph{Naive hashing --}A naive approach using only cryptographic hash functions will also fail to meet our goal \cite{Kales19, Signal:Difficulty}. Alice could upload hashes of her contacts' identifiers for the service operator to compare against hashes of the registered users' identifiers. While this approach is efficient and yields the desired result, it will still leak Alice's address book.

Indeed, although the cryptographic hash function is pre-image resistant, the set of possible pre-images is small enough that hashes can be precomputed into a dictionary and used to find the identifiers that underly the uploaded hashes \cite{Signal:Difficulty}. Salting these hashes to avoid offline computations renders the system unusable since the service operator would be required to hash the set of registered identifiers using a different salt for each attempt at contact discovery \cite{Kales19}.

\paragraph{Advanced approaches and Efficiency --} In light of the above, more advanced approaches have been developed to perform privacy-preserving contact discovery. We cover these in greater detail in \autoref{chap:litreview}. The issue with such approaches is that they introduce additional complexity through computations, communication requirements, storage requirements or a combination thereof.

In the context of the services we study, contact discovery needs to be performed on mobile devices on a regular basis. These devices are less powerful than modern desktop computers and rely on rechargeable batteries. A computation-intensive process ran regularly on such a device could quickly drain its battery. Furthermore we must allow the process to scale elegantly with the number of registered users, and assume that it can grow to the order of billions.

Efficiency therefore constitutes a priority in the design of such contact discovery schemes. It will also provide a benchmark to evaluate systems against each other, provided that they guarantee a satisfactory level of privacy.




%These approaches usually make use of secure hardware, cryptographic protocols or public key infrastructure. What differentiates these approaches and justifies the need for a new one is their efficiency. We measure efficiency in multiple ways: the amount of computation required by the service and the clients, the number of communication rounds needed and the quantity of data that needs to be exchanged.
%
%Privacy should not come at the cost of efficiency, especially if a privacy-preserving contact discovery service is to be integrated into the mobile applications mentioned above. 


\section{A peer-to-peer approach}


\paragraph{} In this report we present an approach based on non-interactive identity-based key exchange protocols. In these protocols, users can set their public key to an identifier of their choice. A trusted key generation centre provides the corresponding secret key. We minimise the trust assumption placed on the key generation centre by breaking it into a distributed entity through the use of threshold cryptography.



%%  review section after writing system chapter
%\paragraph{} In this report, we present a peer-to-peer approach that makes use of pairing-based cryptography. Users interact with a distributed service to obtain private cryptographic keys. Using these keys and their contacts' identifiers, users can locally derive shared secrets to establish an online meeting point, thus completing the discovery process.


\paragraph{} Using this architecture, we reduce the service operator's role to a minimum and provide clients with the tools to compute shared secret keys with their contacts. Computations on the client side are of linear order with respect to the size of their address book. Furthermore, clients are only expected to communicate with the service during setup and are only required to store short cryptographic material.



\section{Structure}

\paragraph{} This report will be structured as follows. In \autoref{chap:litreview}, we survey existing attempts at privacy-preserving contact discovery. We also describe identity-based cryptosystems and motivate their use in this context. In \autoref{chap:background} we review the cryptographic primitives that serve as building blocks for our proposed contact discovery scheme. \hyperref[chap:system]{Chapter~\ref*{chap:system}} focuses on the system itself. We provide a description of its architecture, outlines of security proofs as well as estimates of the system's performance in the wild. We also describe applications for our system in end-to-end encrypted messaging and mobile-first cryptocurrencies. We describe a proof-of-concept implementation in \autoref{chap:implementation}.  Finally, we conclude in \autoref{chap:conclusion}.




























